<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Techno BiteHub Canteen</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
      integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="CSS/style.css" />
  </head>

  <body>
    <nav class="navbar">
      <div class="navbar-container container">
        <input type="checkbox" />
        <div class="hamburger-lines">
          <span class="line line1"></span>
          <span class="line line2"></span>
          <span class="line line3"></span>
        </div>
        <ul class="menu-items">
          <li><a href="#showcase">Home</a></li>
           <li><a href="#feedback">Feedback</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
        <div class="logo">
          <img
            src="https://th.bing.com/th/id/R.8ee92db4bbf0a18bf1a8e5ff64b33168?rik=w3i%2bRBlxfuVQZA&riu=http%3a%2f%2fcse.ticollege.org%2fimg%2ftmsl-logo.png&ehk=9ypOqskaUu8VR0tmNnxnSy%2fJG197NQtHA045AOY0bRo%3d&risl=&pid=ImgRaw&r=0"
            alt=""
          />
        </div>
      </div>
    </nav>

    <section class="showcase-area" id="showcase">
      <div class="showcase-container">
        <h1 class="main-title">Eat Right Food</h1>
        <p>Eat Healthy food, it is good for your health</p>
        <a href="#food-menu" class="btn btn-primary">Menu</a>
      </div>
    </section>

    <section id="food-menu">
      <h2 class="food-menu-heading">Food Menu</h2>
      <div class="food-menu-container container">
        <div class="food-menu-item">
          <div class="food-image">
            <img src="./img/poha.jpeg" alt="" />
          </div>
          <div class="food-description">
            <h2 class="food-title">Poha</h2>
            <p>
              Light, fluffy flattened rice cooked with turmeric, onions,
              peanuts, and coriander.
            </p>
            <p class="food-price">Price: &#8377; 25</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
            </div>
          </div>
        </div>
        <div class="food-menu-item">
          <div class="food-image">
            <img src="./img/idli.jpeg" alt="" />
          </div>
          <div class="food-description">
            <h2 class="food-title">Idli Sambar</h2>
            <p>
              Soft steamed idlis served with hot sambar and coconut chutney.
            </p>
            <p class="food-price">Price: &#8377; 35</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
            </div>
          </div>
        </div>
        <div class="food-menu-item">
          <div class="food-image">
            <img src="/img/masala-dosa.jpeg" alt="" />
          </div>
          <div class="food-description">
            <h2 class="food-title">Masala Dosa</h2>
            <p>
              Crispy dosa filled with spiced potato masala, served with chutney
              & sambar.
            </p>
            <p class="food-price">Price: &#8377; 45</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
            </div>
          </div>
        </div>
        <div class="food-menu-item">
          <div class="food-image">
            <img
              src="https://cookingfromheart.com/wp-content/uploads/2020/09/Aloo-Paratha-4.jpg"
              alt=""
            />
          </div>
          <div class="food-description">
            <h2 class="food-title">Aloo Paratha</h2>
            <p>
              Wheat paratha stuffed with spiced potatoes, served with curd and
              pickle.
            </p>
            <p class="food-price">Price: &#8377; 40</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
            </div>
          </div>
        </div>
        <div class="food-menu-item">
          <div class="food-image">
            <img
              src="https://www.shanazrafiq.com/wp-content/uploads/2017/04/02-DSC_0097.jpg"
              alt=""
            />
          </div>
          <div class="food-description">
            <h2 class="food-title">Veg sandwich</h2>
            <p>Toasted bread with fresh veggies and light mayo.</p>
            <p class="food-price">Price: &#8377; 30</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
            </div>
          </div>
        </div>
        <div class="food-menu-item">
          <div class="food-image">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRIIdD4agOpQVqCvknYUoB14ulGKstj83sddw&s"
              alt=""
            />
          </div>
          <div class="food-description">
            <h2 class="food-title">kachori sabzi</h2>
            <p>Toasted bread with fresh veggies and light mayo.</p>
            <p class="food-price">Price: &#8377; 30</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
            </div>
          </div>
        </div>
        <div class="food-menu-item">
          <div class="food-image">
            <img
              src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRXWHMTQDALTpyB8sxVUrmiTHqvoDWnd2VxNg&s"
              alt=""
            />
          </div>
          <div class="food-description">
            <h2 class="food-title">Upma</h2>
            <p>Toasted bread with fresh veggies and light mayo.</p>
            <p class="food-price">Price: &#8377; 30</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
            </div>
          </div>
        </div>
        <div class="food-menu-item">
          <div class="food-image">
            <img
              src="https://www.indianhealthyrecipes.com/wp-content/uploads/2019/04/bread-omelette-480x270.jpg"
              alt=""
            />
          </div>
          <div class="food-description">
            <h2 class="food-title">Bread Omlette</h2>
            <p>Two-egg omelette folded inside toasted bread.</p>
            <p class="food-price">Price: &#8377; 35</p>
            <div class="item">
              <!-- AVERAGE RATING SHOWN HERE -->

              <!-- STAR RATING USERS CAN CLICK -->
              <div class="rating" data-item="Masala Dosa"></div>
              <div class="item">
                <div class="like-box" data-item="Masala Dosa">
                  <span class="like-btn">üëç</span>
                  <span class="dislike-btn">üëé</span>
                  <span class="count like-count">0</span> |
                  <span class="count dislike-count">0</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ################# for smooth scrolling ############### -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      $(document).ready(function () {
        // Add smooth scrolling to all links
        $("a").on("click", function (event) {
          // Make sure this.hash has a value before overriding default behavior
          if (this.hash !== "") {
            // Prevent default anchor click behavior
            event.preventDefault();

            // Store hash
            var hash = this.hash;

            // Using jQuery's animate() method to add smooth page scroll
            // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
            $("html, body").animate(
              {
                scrollTop: $(hash).offset().top,
              },
              800,
              function () {
                // Add hash (#) to URL when done scrolling (default click behavior)
                window.location.hash = hash;
              }
            );
          } // End if
        });
      });
    </script>
    <script>
      // Load saved ratings
      const savedRatings = JSON.parse(localStorage.getItem("ratings")) || {};

      function initRatings() {
        document.querySelectorAll(".rating").forEach((container) => {
          const itemName = container.dataset.item;

          // Clear previous stars
          container.innerHTML = "";

          // Create 5 stars
          for (let i = 1; i <= 5; i++) {
            const star = document.createElement("span");
            star.innerText = "‚òÖ";
            star.dataset.value = i;

            // Highlight saved rating
            if (savedRatings[itemName] && i <= savedRatings[itemName].rating) {
              star.classList.add("selected");
            }

            // Click to rate
            star.addEventListener("click", () => {
              const rating = i;

              // Save rating
              savedRatings[itemName] = {
                rating: rating,
                timestamp: Date.now(),
              };
              localStorage.setItem("ratings", JSON.stringify(savedRatings));

              // Update visual stars
              updateStars(container, rating);

              // Show average beside item
              updateAverageRating(itemName);
            });

            container.appendChild(star);
          }

          // Load average on page load
          updateAverageRating(itemName);
        });
      }

      function updateStars(container, rating) {
        const stars = container.querySelectorAll("span");
        stars.forEach((s, index) => {
          s.classList.remove("selected");
          if (index < rating) s.classList.add("selected");
        });
      }

      function updateAverageRating(itemName) {
        const avgEl = document.querySelector(
          `.avg-rating[data-item="${itemName}"]`
        );
        if (!avgEl) return;

        if (savedRatings[itemName]) {
          avgEl.textContent = savedRatings[itemName].rating + " ‚òÖ";
        } else {
          avgEl.textContent = "0 ‚òÖ";
        }
      }

      // Initialize on load
      document.addEventListener("DOMContentLoaded", initRatings);
    </script>
    <script>
      const voteStore = JSON.parse(localStorage.getItem("votes")) || {};

      function initLikes() {
        document.querySelectorAll(".like-box").forEach((box) => {
          const itemName = box.dataset.item;

          // If not present in storage, initialize
          if (!voteStore[itemName]) {
            voteStore[itemName] = { likes: 0, dislikes: 0 };
          }

          // Update UI
          updateCounts(itemName);

          // Buttons
          const likeBtn = box.querySelector(".like-btn");
          const dislikeBtn = box.querySelector(".dislike-btn");

          likeBtn.addEventListener("click", () => {
            voteStore[itemName].likes++;
            saveVotes();
            updateCounts(itemName);
          });

          dislikeBtn.addEventListener("click", () => {
            voteStore[itemName].dislikes++;
            saveVotes();
            updateCounts(itemName);
          });
        });
      }

      function saveVotes() {
        localStorage.setItem("votes", JSON.stringify(voteStore));
      }

      function updateCounts(itemName) {
        document
          .querySelectorAll(`.like-box[data-item="${itemName}"] .like-count`)
          .forEach((el) => (el.textContent = voteStore[itemName].likes));

        document
          .querySelectorAll(`.like-box[data-item="${itemName}"] .dislike-count`)
          .forEach((el) => (el.textContent = voteStore[itemName].dislikes));
      }

      document.addEventListener("DOMContentLoaded", initLikes);
    </script>
  </body>
</html>
